---
layout: default
---

<section id="intro" class="intro-section">
  <div class="container">
    <h1>Agent Network Briefs</h1>
    <p>
      We’re experimenting with a new kind of report: briefings generated by networks of simulated
      experts who argue, converge, diverge—and sometimes surprise us.
    </p>
    <p>
      The system is built on some of our patented agentic tech. For now, we’re sharing sample
      outputs. Feedback welcome, skeptics encouraged, curious minds especially.
    </p>
  </div>
</section>

<section id="briefs" class="section">
  <div class="container">
    <div class="brief-grid" id="brief-grid">
      {% assign sorted_briefs = site.briefs | sort: "date" | reverse %}
      {% assign briefs_per_page = 3 %}
      {% assign total_briefs  = sorted_briefs | size %}
      {% assign total_pages   = total_briefs | divided_by: briefs_per_page %}
      {% assign pages_times_per_page = total_pages | times: briefs_per_page %}
      {% if total_briefs > pages_times_per_page %}
        {% assign total_pages = total_pages | plus: 1 %}
      {% endif %}

      {% assign page  = 1 %}
      {% assign count = 0 %}

      {% for brief in sorted_briefs %}
        {%- if count == briefs_per_page -%}
          {% assign page  = page | plus: 1 %}
          {% assign count = 0 %}
        {%- endif -%}

        {% if page == 1 %}
          {% assign display_style = "" %}
        {% else %}
          {% assign display_style = "display:none;" %}
        {% endif %}

        <article class="brief-card" data-page="{{ page }}" style="{{ display_style }}">
          <h3><a href="{{ brief.url | relative_url }}">{{ brief.title }}</a></h3>
          <p>{{ brief.excerpt | strip_html | truncate: 150 }}</p>

          <div class="brief-meta">
            <span class="date">{{ brief.date | date: "%B %d, %Y" }}</span>
            {% if brief.tags %}
              <div class="tags">
                {% for tag in brief.tags limit: 3 %}
                  <span class="tag">{{ tag }}</span>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </article>

        {% assign count = count | plus: 1 %}
      {% endfor %}
    </div>

    {% if total_pages > 1 %}
      <div class="pagination" id="pagination">
        <button class="pagination-btn" id="prev-btn" onclick="changePage('prev')" disabled>← Previous</button>

        <div class="pagination-numbers" id="pagination-numbers">
          {% for i in (1..total_pages) %}
            <button class="page-number {% if i == 1 %}active{% endif %}"
                    onclick="goToPage({{ i }})">{{ i }}</button>
          {% endfor %}
        </div>

        <button class="pagination-btn" id="next-btn"
                onclick="changePage('next')" {% if total_pages == 1 %}disabled{% endif %}>
          Next →
        </button>
      </div>
    {% endif %}
  </div>
</section>

<script>
  let currentPage = 1;
  const totalPages = {{ total_pages }};

  function showPage (page) {
    currentPage = page;

    // hide all cards
    document.querySelectorAll('.brief-card').forEach(card => card.style.display = 'none');

    // show cards for chosen page
    document.querySelectorAll(`.brief-card[data-page="${page}"]`)
            .forEach(card => card.style.display = 'block');

    // update active number
    document.querySelectorAll('.page-number').forEach((btn, idx) => {
      btn.classList.toggle('active', idx + 1 === page);
    });

    // enable / disable arrows
    document.getElementById('prev-btn').disabled = page === 1;
    document.getElementById('next-btn').disabled = page === totalPages;
  }

  function goToPage (page) {
    if (page >= 1 && page <= totalPages) showPage(page);
  }

  function changePage (dir) {
    if (dir === 'prev' && currentPage > 1) showPage(currentPage - 1);
    if (dir === 'next' && currentPage < totalPages) showPage(currentPage + 1);
  }
</script>
